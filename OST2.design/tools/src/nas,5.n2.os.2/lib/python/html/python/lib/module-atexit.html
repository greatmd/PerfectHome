<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="lib.css" type='text/css' />
<link rel="SHORTCUT ICON" href="../icons/pyfav.png" type="image/png" />
<link rel='start' href='../index.html' title='Python Documentation Index' />
<link rel="first" href="lib.html" title='Python Library Reference' />
<link rel='contents' href='contents.html' title="Contents" />
<link rel='index' href='genindex.html' title='Index' />
<link rel='last' href='about.html' title='About this document...' />
<link rel='help' href='about.html' title='About this document...' />
<link rel="next" href="module-types.html" />
<link rel="prev" href="module-fpectl.html" />
<link rel="parent" href="python.html" />
<link rel="next" href="atexit-example.html" />
<meta name='aesop' content='information' />
<title>3.5 atexit -- Exit handlers</title>
</head>
<body>
<DIV CLASS="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="3.4.2 Limitations and other"
  href="node45.html"><img src='../icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></A></td>
<td class='online-navigation'><a rel="parent" title="3. Python Runtime Services"
  href="python.html"><img src='../icons/up.png'
  border='0' height='32'  alt='Up One Level' width='32' /></A></td>
<td class='online-navigation'><a rel="next" title="3.5.1 atexit Example"
  href="atexit-example.html"><img src='../icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="contents.html"><img src='../icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></A></td>
<td class='online-navigation'><a href="modindex.html" title="Module Index"><img src='../icons/modules.png'
  border='0' height='32'  alt='Module Index' width='32' /></a></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='../icons/index.png'
  border='0' height='32'  alt='Index' width='32' /></A></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node45.html">3.4.2 Limitations and other</A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="python.html">3. Python Runtime Services</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="atexit-example.html">3.5.1 atexit Example</A>
</div>
<hr /></div>
</DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION005500000000000000000">
3.5 <tt class="module">atexit</tt> --
         Exit handlers</A>
</H1>

<P>
<A NAME="module-atexit"></A>

<P>

<span class="versionnote">New in version 2.0.</span>

<P>
The <tt class="module">atexit</tt> module defines a single function to register
cleanup functions.  Functions thus registered are automatically
executed upon normal interpreter termination.

<P>
Note: the functions registered via this module are not called when the program is killed by a
signal, when a Python fatal internal error is detected, or when
<tt class="function">os._exit()</tt> is called.

<P>
This is an alternate interface to the functionality provided by the
<code>sys.exitfunc</code> variable.
<a id='l2h-437' xml:id='l2h-437'></a>
<P>
Note: This module is unlikely to work correctly when used with other code
that sets <code>sys.exitfunc</code>.  In particular, other core Python modules are
free to use <tt class="module">atexit</tt> without the programmer's knowledge.  Authors who
use <code>sys.exitfunc</code> should convert their code to use
<tt class="module">atexit</tt> instead.  The simplest way to convert code that sets
<code>sys.exitfunc</code> is to import <tt class="module">atexit</tt> and register the function
that had been bound to <code>sys.exitfunc</code>.

<P>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-438' xml:id='l2h-438' class="function">register</tt></b>(</nobr></td>
  <td><var>func</var><big>[</big><var>, *args</var><big>[</big><var>, **kargs</var><big>]</big><var></var><big>]</big><var></var>)</td></tr></table></dt>
<dd>
Register <var>func</var> as a function to be executed at termination.  Any
optional arguments that are to be passed to <var>func</var> must be passed
as arguments to <tt class="function">register()</tt>.

<P>
At normal program termination (for instance, if
<tt class="function">sys.exit()</tt> is called or the main module's execution
completes), all functions registered are called in last in, first out
order.  The assumption is that lower level modules will normally be
imported before higher level modules and thus must be cleaned up
later.

<P>
If an exception is raised during execution of the exit handlers, a
traceback is printed (unless <tt class="exception">SystemExit</tt> is raised) and the
exception information is saved.  After all exit handlers have had a
chance to run the last exception to be raised is re-raised.
</dl>

<P>
<div class="seealso">
  <p class="heading">See Also:</p>

  <dl compact="compact" class="seemodule">
    <dt>Module <b><tt class="module"><a href="module-readline.html">readline</a></tt>:</b>
    <dd>Useful example of <tt class="module">atexit</tt> to read and
                       write <tt class="module"><a href="module-readline.html">readline</a></tt> history files.
  </dl>
</div>

<P>

<p><br /></p><hr class='online-navigation' />
<div class='online-navigation'>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></a>

<UL CLASS="ChildLinks">
<LI><A href="atexit-example.html">3.5.1 <tt class="module">atexit</tt> Example</a>
</ul>
<!--End of Table of Child-Links-->
</div>

<DIV CLASS="navigation">
<div class='online-navigation'>
<p></p><hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="3.4.2 Limitations and other"
  href="node45.html"><img src='../icons/previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></A></td>
<td class='online-navigation'><a rel="parent" title="3. Python Runtime Services"
  href="python.html"><img src='../icons/up.png'
  border='0' height='32'  alt='Up One Level' width='32' /></A></td>
<td class='online-navigation'><a rel="next" title="3.5.1 atexit Example"
  href="atexit-example.html"><img src='../icons/next.png'
  border='0' height='32'  alt='Next Page' width='32' /></A></td>
<td align="center" width="100%">Python Library Reference</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="contents.html"><img src='../icons/contents.png'
  border='0' height='32'  alt='Contents' width='32' /></A></td>
<td class='online-navigation'><a href="modindex.html" title="Module Index"><img src='../icons/modules.png'
  border='0' height='32'  alt='Module Index' width='32' /></a></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='../icons/index.png'
  border='0' height='32'  alt='Index' width='32' /></A></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node45.html">3.4.2 Limitations and other</A>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="python.html">3. Python Runtime Services</A>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="atexit-example.html">3.5.1 atexit Example</A>
</div>
</div>
<hr />
<span class="release-info">Release 2.4.2, documentation updated on 28 September 2005.</span>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</ADDRESS>
</BODY>
</HTML>
